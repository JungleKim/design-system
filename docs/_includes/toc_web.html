{% assign pages_collection = site.collections | where: "label", "pages" | first %}

{% assign components_doc = pages_collection.docs | where: "url", "/web/components/index" | first %}
{% assign icons_doc = pages_collection.docs | where: "url", "/web/icons/index" | first %}
{% assign typography_doc = pages_collection.docs | where: "url", "/web/typography/index" | first %}
{% assign motion_doc = pages_collection.docs | where: "url", "/web/motion/index" | first %}

{% assign components_html = components_doc.content | markdownify %}
{% assign icons_html = icons_doc.content | markdownify %}
{% assign typography_html = typography_doc.content | markdownify %}
{% assign motion_html = motion_doc.content | markdownify %}

{% assign components_baseurl = components_doc.url | remove: 'index' | relative_url %}
{% assign icons_baseurl = icons_doc.url | remove: 'index' | relative_url %}
{% assign typography_baseurl = typography_doc.url | remove: 'index' | relative_url %}
{% assign motion_baseurl = motion_doc.url | remove: 'index' | relative_url %}

{% include toc.html baseurl=components_baseurl html=components_html class="site-toc-list" item_class="site-toc-list__item" anchor_class="site-toc-list__link" h_min=1 h_max=2 %}
{% include toc.html baseurl=icons_baseurl html=icons_html class="site-toc-list" item_class="site-toc-list__item" anchor_class="site-toc-list__link" h_min=1 h_max=2 %}
{% include toc.html baseurl=typography_baseurl html=typography_html class="site-toc-list" item_class="site-toc-list__item" anchor_class="site-toc-list__link" h_min=1 h_max=2 %}
{% include toc.html baseurl=motion_baseurl html=motion_html class="site-toc-list" item_class="site-toc-list__item" anchor_class="site-toc-list__link" h_min=1 h_max=2 %}
